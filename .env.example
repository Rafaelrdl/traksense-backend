# Environment Configuration (Copy to .env and adjust values)

# Django
DJANGO_SECRET_KEY=dev-secret-key-change-in-production-minimum-50-characters-long
DJANGO_SETTINGS_MODULE=config.settings.development
DEBUG=True

# Database (Individual credentials - preferred method)
DB_NAME=app
DB_USER=app
DB_PASSWORD=app
DB_HOST=postgres
DB_PORT=5432

# Alternative: Database URL format (if using dj-database-url)
# DB_URL=postgres://app:app@postgres:5432/app

# Redis
REDIS_URL=redis://redis:6379/0

# CORS Configuration (comma-separated origins)
CORS_ORIGINS=http://localhost:5173,http://umc.localhost:5173

# CSRF Trusted Origins (comma-separated)
CSRF_ORIGINS=http://localhost:5173,http://umc.localhost:5173

# Frontend URL (for email links, OAuth callbacks, etc.)
FRONTEND_URL=http://localhost:5173

# ðŸ”’ SECURITY: MQTT Ingestion Authentication
# INGESTION_SECRET is used for HMAC signature validation on /ingest endpoint
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# REQUIRED in production (service will fail to start if missing)
INGESTION_SECRET=change-me-generate-with-secrets-token-hex-32

# MinIO (S3-compatible)
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET=files
MINIO_USE_SSL=False

# EMQX (MQTT Broker)
EMQX_URL=mqtt://emqx:1883

# EMQX Provisioning (Script for setup/admin tasks)
EMQX_BASE_URL=http://localhost:18083
EMQX_API_KEY=dev-provisioner
EMQX_API_SECRET=change-me
EMQX_DASHBOARD_USER=admin
EMQX_DASHBOARD_PASS=public
TENANT_SLUG=umc
INGEST_BASE_URL=http://api:8000
INGEST_PATH=/ingest

# Mailpit (SMTP for dev)
MAILPIT_SMTP_HOST=mailpit
MAILPIT_SMTP_PORT=1025

# Email Configuration (Production)
# DEFAULT_FROM_EMAIL is used for system emails (password reset, invites, etc.)
# Audit finding: "DuplicaÃ§Ã£o de CORS_ORIGINS e ausÃªncia de DEFAULT_FROM_EMAIL"
DEFAULT_FROM_EMAIL=noreply@traksense.io
# Optional: Email backend (default uses SMTP settings above)
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# Security
ALLOWED_HOSTS=localhost,umc.localhost,api,*.localhost
# ðŸ”§ FIXED: CORS_ORIGINS duplicated (removed duplicate below)
CORS_ORIGINS=http://localhost:5173,http://umc.localhost:5173

# Multi-tenant
PUBLIC_SCHEMA_NAME=public
TENANT_MODEL=tenants.Tenant
TENANT_DOMAIN_MODEL=tenants.Domain

# Observability (optional)
SENTRY_DSN=
